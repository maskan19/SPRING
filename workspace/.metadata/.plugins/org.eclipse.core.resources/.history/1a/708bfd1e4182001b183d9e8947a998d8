package kr.or.ddit;

import javax.servlet.http.*;
import javax.servlet.*;
import java.io.*;
import java.util.*;
//한글 주석
public class ImageServlet extends HttpServlet{
	protected void doGet(HttpServletRequest req,
                     HttpServletResponse resp)
              throws ServletException,
                     IOException{
		String mime = "image/jpeg";
		resp.setContentType(mime);
		String folder = "d:/contents";
		String imageFilename = req.getParameter("image");
		File imageFile = new File(folder, imageFilename);
		FileInputStream fis = new FileInputStream(imageFile);
		OutputStream os = resp.getOutputStream();
		byte[] buffer = new byte[1024];
		int pointer = -1;
		while((pointer = fis.read(buffer))!=-1){
			os.write(buffer,0,pointer);
		};
		
		
		
		
		
		//req.setCharacterEncoding("utf-8");
	//	resp.setContentType("image/jpg; charset=utf-8");

	//	byte[] by = new byte[1024]; 
	//	ServletOutputStream out = resp.getOutputStream();
		//String imagePath = getServletContext().getRealPath("")+"images\ccc.jpg";
	//	String imagePath = "d:/contents/ccc.jpg";
	//	BufferedInputStream in = new BufferedInputStream(new FileInputStream(imagePath));

	//	while(in.read(by) != 0) {
	//		out.write(by);
	//	}

	//	in.close();
	//	out.close();
	}
}